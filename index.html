<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TradeWithJars.net</title>
  <link rel="icon" href="TradeWithJarslogo.png" type="image/png">
  <style>
    body {
      margin: 0;
      background-color: #0d0d0d;
      color: #c8ffc8;
      font-family: Arial, sans-serif;
      text-align: center;
      overflow-x: hidden;
    }

    .launch-logo {
      position: absolute;
      top: 40vh;
      left: -200px;
      width: 140px;
      animation: launch 2.5s ease-in-out forwards;
    }

    @keyframes launch {
      0% { left: -200px; opacity: 0; transform: scale(0.4) rotate(-20deg); }
      50% { opacity: 1; }
      100% { left: 110vw; opacity: 0; transform: scale(1.2) rotate(45deg); }
    }

    h1 {
      margin-top: 40px;
      font-size: 38px;
      color: #b5ff66;
    }

    section {
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background-color: #1a1a1a;
      border-radius: 10px;
    }

    .alert-banner {
      background-color: #ffcc00;
      color: #000;
      padding: 10px;
      font-weight: bold;
    }

    .rss-feed {
      white-space: nowrap;
      overflow: hidden;
      box-sizing: border-box;
      background: #111;
      color: #fff;
      padding: 8px;
      font-size: 14px;
    }

    .rss-feed span {
      display: inline-block;
      padding-left: 100%;
      animation: scroll-left 20s linear infinite;
    }

    @keyframes scroll-left {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

    table {
      width: 100%;
      margin-top: 15px;
      border-collapse: collapse;
    }

    th, td {
      border: 1px solid #333;
      padding: 8px;
    }

    th {
      background-color: #222;
    }

    footer {
      margin: 40px 0 10px;
      font-size: 14px;
      color: #888;
    }

    .partner {
      margin-top: 15px;
    }

    .partner img {
      width: 120px;
      margin-top: 10px;
    }

    .menu-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #66ff66;
      color: #000;
      border: none;
      padding: 12px;
      border-radius: 12px;
      font-size: 24px;
      cursor: pointer;
      z-index: 1000;
    }

    .menu-dropdown {
      position: fixed;
      top: 70px;
      right: 20px;
      background-color: #1a1a1a;
      border: 1px solid #444;
      border-radius: 8px;
      padding: 10px;
      display: none;
      z-index: 999;
    }

    .menu-dropdown a {
      display: block;
      color: #fff;
      text-decoration: none;
      padding: 8px;
    }

    .menu-dropdown a:hover {
      background-color: #333;
    }
  </style>
</head>
<body>
  <img src="TradeWithJarslogo.png" alt="Launching Logo" class="launch-logo" />
  <button class="menu-btn" onclick="toggleMenu()">☰</button>
  <div class="menu-dropdown" id="menuDropdown">
    <a href="index.html">Home</a>
    <a href="schedule.html">Schedule</a>
    <a href="news.html">Crypto News</a>
    <a href="nfts.html">NFT Tracker</a>
    <a href="lev_calc.html">Leverage Calculator</a>
  </div>

  <h1>Welcome to TradeWithJars.net</h1>
  <div id="usdcBanner" class="alert-banner" style="display: none;"></div>
  <div class="rss-feed"><span id="rssTicker">Loading crypto headlines...</span></div>

  <section>
    <h2>Live Solana NFT Tracker</h2>
    <table id="nftTable">
      <thead><tr><th>Name</th><th>Image</th><th>Floor</th><th>Volume</th></tr></thead>
      <tbody></tbody>
    </table>
    <a href="nfts.html">→ View Full NFT Tracker</a>
  </section>
  <section>
    <h2>Crypto News Feed</h2>
    <p>Latest headlines from top sources, auto-updated:</p>
    <a href="news.html">→ View Full Crypto News</a>
  </section>

  <section>
    <h2>Presidential Schedule</h2>
    <p>Track official U.S. events, travel, and press briefings.</p>
    <a href="schedule.html">→ View Daily Schedule</a>
  </section>

  <section>
    <h2>Leverage Calculator</h2>
    <p>Input your entry price, leverage, and stop-loss to instantly calculate risk and potential reward.</p>
    <a href="lev_calc.html">→ Try the Calculator</a>
  </section>

  <section>
    <h2>Text Alert Signup</h2>
    <p>Get notified if more than <strong>$100 million</strong> USDC is minted on Solana.</p>
    <form>
      <input type="text" placeholder="Enter your phone number" style="padding: 8px; width: 240px;">
      <button type="submit" style="padding: 8px; background: #66ff66; border: none; cursor: pointer;">Sign Up</button>
    </form>
  </section>

  <footer>
    © 2025 TradeWithJars.net
    <div class="partner">
      Proud Partner:
      <br/>
      <img src="doughbois_logo.png" alt="Doughboi's Bakery">
    </div>
  </footer>

  <script>
    // USDC Mint Alert
    async function checkUSDCMints() {
      try {
        const res = await fetch("https://mainnet.helius-rpc.com/?api-key=helius-default", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            jsonrpc: "2.0",
            id: 1,
            method: "getTokenAccountsByOwner",
            params: [
              "F6vYrKFtWThZfYfTWgu3Qt7J8G3SZU9smxxzHkK8bfx3", // Circle treasury wallet
              { programId: "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA" },
              { encoding: "jsonParsed" }
            ]
          })
        });

        const data = await res.json();
        const accounts = data.result?.value || [];

        let total = 0;
        accounts.forEach(acc => {
          const tokenInfo = acc.account?.data?.parsed?.info;
          if (tokenInfo?.mint === "EaC7E6Lo4xQjGk74RnGukFwzChTyG52btyCr7XxU2k5t") {
            total += parseFloat(tokenInfo.tokenAmount.uiAmount || 0);
          }
        });

        if (total > 100_000_000) {
          const banner = document.getElementById("usdcBanner");
          banner.innerText = `⚠️ USDC MINT ALERT: Over $${total.toLocaleString()} minted on Solana!`;
          banner.style.display = "block";
        }
      } catch (e) {
        console.error("USDC Mint check failed", e);
      }
    }

    // Toggle Menu
    function toggleMenu() {
      const menu = document.getElementById("menuDropdown");
      menu.style.display = menu.style.display === "block" ? "none" : "block";
    }

    // Load NFT Table (Top 5)
    async function loadNFTs() {
      const res = await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vSYazPCLVVoKoP_vwg7xH_CO39OrWTooH1zE9SQClP5q-NTs5v0pddJf8b5SqiiYjlRpvHaG228HRX4/pub?output=csv");
      const text = await res.text();
      const rows = text.split("\n").map(row => row.split(",")).slice(1, 6);
      const tbody = document.querySelector("#nftTable tbody");
      rows.forEach(row => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${row[0]}</td>
          <td><img src="${row[2]}" style="max-width:40px"/></td>
          <td>${row[3]}</td>
          <td>${row[4]}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    // Load RSS Headlines
    async function loadRSS() {
      try {
        const feed = await fetch("https://api.rss2json.com/v1/api.json?rss_url=https://cryptonews.com/news/feed");
        const json = await feed.json();
        const headlines = json.items.slice(0, 6).map(item => item.title).join(" • ");
        document.getElementById("rssTicker").innerText = headlines;
      } catch (e) {
        document.getElementById("rssTicker").innerText = "Failed to load news feed.";
      }
    }

    loadNFTs();
    loadRSS();
    checkUSDCMints();
  </script>
</body>
</html>

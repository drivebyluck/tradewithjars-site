<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trade With Jars</title>
  <link rel="icon" type="image/png" href="TradeWithJarslogo.png"/>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap');
    body {
      background: linear-gradient(to bottom, #0d0d0d, #1a1a1a);
      color: white;
      font-family: 'Orbitron', sans-serif;
      margin: 0;
      padding: 0;
    }
    header {
      position: relative;
      height: 120px;
      overflow: hidden;
    }
    .logo-launch {
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      animation: launch 2s ease-out forwards;
    }
    @keyframes launch {
      0% { top: 100%; }
      60% { top: -30px; }
      100% { top: 10px; }
    }
    .menu-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #66ff66;
      color: #000;
      border: none;
      padding: 12px;
      border-radius: 12px;
      font-size: 24px;
      cursor: pointer;
      z-index: 1000;
    }
    .menu-dropdown {
      position: fixed;
      top: 70px;
      right: 20px;
      background-color: #1a1a1a;
      border: 1px solid #444;
      border-radius: 8px;
      padding: 10px;
      display: none;
      z-index: 999;
    }
    .menu-dropdown a {
      display: block;
      color: #fff;
      text-decoration: none;
      padding: 8px;
    }
    .menu-dropdown a:hover {
      background-color: #333;
    }
    .ticker {
      background: #111;
      color: #00ffcc;
      white-space: nowrap;
      overflow: hidden;
      box-shadow: 0 0 10px #00ffcc;
    }
    .ticker span {
      display: inline-block;
      padding-left: 100%;
      animation: ticker-scroll 60s linear infinite;
    }
    @keyframes ticker-scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }
    section {
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background: #1a1a1a;
      border-radius: 12px;
      box-shadow: 0 0 15px #0f0;
      transition: all 0.3s ease;
    }
    h2 {
      text-align: center;
      color: #66ff66;
    }
    footer {
      text-align: center;
      padding: 40px 10px 20px;
      font-size: 14px;
      color: #777;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      color: #fff;
    }
    th, td {
      border: 1px solid #444;
      padding: 8px;
      text-align: center;
    }
    img {
      border-radius: 4px;
    }
    .partner-logo {
      margin-top: 20px;
      max-width: 120px;
    }
  </style>
</head>
<body>
  <button class="menu-btn" onclick="toggleMenu()">☰</button>
  <div class="menu-dropdown" id="menuDropdown">
    <a href="index.html">Home</a>
    <a href="schedule.html">Schedule</a>
    <a href="news.html">Crypto News</a>
    <a href="nfts.html">NFT Tracker</a>
    <a href="lev_calc.html">Leverage Calculator</a>
  </div>

  <header>
    <img src="TradeWithJarslogo.png" alt="Logo" class="logo-launch" />
  </header>

  <div class="ticker">
    <div id="rssFeed"><span>Loading headlines...</span></div>
  </div>

  <section>
    <h2>What is Trade With Jars?</h2>
    <p style="text-align:center;">
      TradeWithJars.net is your essential resource for real-time crypto data, tools, and market insights. 
      We simplify crypto for everyone—whether you’re a beginner or a seasoned trader. 
      Explore our top Solana NFT rankings, live USDC mint alerts, leverage calculator, and even the presidential schedule for economic insight.
    </p>
  </section>

  <section>
    <h2>Top Solana NFT Collections</h2>
    <div id="nftPreview" style="text-align:center;">Loading...</div>
  </section>

  <section>
    <h2>Leverage Calculator Preview</h2>
    <p style="text-align:center;">Click below to test out our leverage trading risk calculator and maximize your trade planning.</p>
    <p style="text-align:center;"><a href="lev_calc.html" style="color:#66ff66;">Launch Calculator</a></p>
  </section>

  <section>
    <h2>Crypto News Feed</h2>
    <p style="text-align:center;">View all current headlines from major financial news sources.</p>
    <p style="text-align:center;"><a href="news.html" style="color:#66ff66;">Go to Crypto News</a></p>
  </section>

  <section>
    <h2>U.S. Presidential Schedule</h2>
    <p style="text-align:center;">Stay informed with the latest public events from the White House calendar.</p>
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Time</th>
          <th>Details</th>
          <th>Location</th>
        </tr>
      </thead>
      <tbody id="scheduleBody"></tbody>
    </table>
    <p style="text-align:center;"><a href="schedule.html" style="color:#66ff66;">View Full Schedule</a></p>
  </section>

  <section>
    <h2>Get Text Alerts for Major USDC Mints</h2>
    <p style="text-align:center;">Receive SMS alerts when Circle mints over $100,000,000 USDC on Solana.</p>
    <form style="text-align:center;" onsubmit="event.preventDefault(); alert('Signed up successfully!');">
      <input type="tel" placeholder="Enter your phone number" required style="padding:10px; width:70%; max-width:300px; border-radius:8px;"/>
      <button style="padding:10px 20px; margin-left:10px; background:#66ff66; border:none; border-radius:8px; cursor:pointer;">Sign Up</button>
    </form>
  </section>

  <footer>
    <img src="DoughboisLogo.png" alt="Doughboi's Bakery" class="partner-logo"/>
    <p>© 2025 TradeWithJars.net</p>
  </footer>

  <script>
    async function loadRSS() {
      try {
        const feeds = [
          "https://www.coindesk.com/arc/outboundfeeds/rss/",
          "https://feeds.content.dowjones.io/public/rss/socialeconomyfeed"
        ];
        const proxy = "https://api.allorigins.win/get?url=";
        const headlines = [];

        for (const url of feeds) {
          const res = await fetch(proxy + encodeURIComponent(url));
          const data = await res.json();
          const xml = new DOMParser().parseFromString(data.contents, "text/xml");
          const items = xml.querySelectorAll("item");

          for (let i = 0; i < Math.min(5, items.length); i++) {
            const title = items[i].querySelector("title")?.textContent;
            if (title) headlines.push(title);
          }
        }

        const ticker = document.getElementById("rssFeed");
        ticker.innerHTML = `<span>${headlines.join(" ⚡ ")}</span>`;
      } catch (e) {
        document.getElementById("rssFeed").innerHTML = `<span>Failed to load headlines.</span>`;
      }
    }

    async function loadNFTs() {
      const res = await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vSYazPCLVVoKoP_vwg7xH_CO39OrWTooH1zE9SQClP5q-NTs5v0pddJf8b5SqiiYjlRpvHaG228HRX4/pub?output=csv");
      const text = await res.text();
      const rows = text.split("\n").map(row => row.split(","));
      let output = '<table><thead><tr><th>Name</th><th>Image</th><th>Floor</th><th>Volume</th></tr></thead><tbody>';

      for (let i = 1; i <= 5 && i < rows.length; i++) {
        const row = rows[i];
        if (row.length < 5) continue;
        output += `<tr>
          <td>${row[0]}</td>
          <td><img src="${row[2]}" alt="NFT" width="30"/></td>
          <td>${row[3]}</td>
          <td>${row[4]?.replace(/"/g, "").replace(/\s*SOL$/, "") + " SOL"}</td>
        </tr>`;
      }
      output += '</tbody></table>';
      document.getElementById("nftPreview").innerHTML = output;
    }

    async function loadSchedule() {
      const res = await fetch("https://media-cdn.factba.se/rss/json/trump/calendar-full.json");
      const data = await res.json();
      const tbody = document.getElementById("scheduleBody");
      data.slice(0, 5).forEach(event => {
        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${event.date}</td><td>${event.time_formatted || "-"}</td><td>${event.details}</td><td>${event.location || "-"}</td>`;
        tbody.appendChild(tr);
      });
    }

    function toggleMenu() {
      const menu = document.getElementById("menuDropdown");
      menu.style.display = menu.style.display === "block" ? "none" : "block";
    }

    loadRSS();
    loadNFTs();
    loadSchedule();
  </script>
</body>
</html>
